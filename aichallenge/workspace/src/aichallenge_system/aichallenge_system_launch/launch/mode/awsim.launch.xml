<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <!-- Workaround because the simulator cannot use the service. -->
    <node pkg="aichallenge_system_launch" exec="control_mode_adapter.py" output="screen"/>

    <!-- Adaptors for AWSIM -->
    <node pkg="topic_tools" exec="relay" name="relay_control_cmd">
        <param name="input_topic" value="/control/command/control_cmd"/>
        <param name="output_topic" value="/awsim/control_cmd"/>
    </node>

    <node pkg="topic_tools" exec="relay" name="relay_gnss_pose">
        <param name="input_topic" value="/awsim/gnss/pose"/>
        <param name="output_topic" value="/sensing/gnss/pose"/>
    </node>

    <node pkg="topic_tools" exec="relay" name="relay_gnss_pose_cov">
        <param name="input_topic" value="/awsim/gnss/pose_with_covariance"/>
        <param name="output_topic" value="/sensing/gnss/pose_with_covariance"/>
    </node>

    <node pkg="topic_tools" exec="relay" name="relay_imu">
        <param name="input_topic" value="/awsim/imu"/>
        <param name="output_topic" value="/sensing/imu/imu_raw"/>
    </node>

    <node pkg="topic_tools" exec="relay" name="relay_steering">
        <param name="input_topic" value="/awsim/steering_status"/>
        <param name="output_topic" value="/vehicle/status/steering_status"/>
    </node>

    <node pkg="topic_tools" exec="relay" name="relay_velocity">
        <param name="input_topic" value="/awsim/velocity_status"/>
        <param name="output_topic" value="/vehicle/status/velocity_status"/>
    </node>
</launch>
